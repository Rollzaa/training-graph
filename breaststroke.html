<!DOCTYPE html>
<html>
<head>
  <title>Breaststroke Chart</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <canvas id="chart" width="400" height="200"></canvas>
  <script>
    const sheetURL = 'https://opensheet.elk.sh/1G05TnqQZN6i5SRTyHl8MHhnvld-t-J26tlIrca99XW0/Sheet1';

    function convertTimeToSeconds(timeString) {
      const [minutes, seconds] = timeString.split(':').map(Number);
      return minutes * 60 + seconds;
    }

    fetch(sheetURL)
      .then(response => response.json())
      .then(data => {
        const filteredData = data.filter(row => row.stroke === 'breaststroke');
        const labels = filteredData.map(row => row.date);
        const times = filteredData.map(row => convertTimeToSeconds(row.time));

        new Chart(document.getElementById('chart'), {
          type: 'line',
          data: {
            labels: labels,
            datasets: [{
              label: 'Breaststroke Time (seconds)',
              data: times,
              borderColor: 'green',
              fill: false,
              tension: 0.2
            }]
          },
          options: {
            responsive: true,
            scales: {
              y: {
                beginAtZero: false
              }
            }
          }
        });
      });
  </script>
</body>
</html>
